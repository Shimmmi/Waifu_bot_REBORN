## Цель
Сделать карточку предмета в модалке “как в PoE/Diablo”: читаемо, красиво, с акцентом на редкость/имя/уровень и список бонусов.

## Источник данных (текущее API)
Карточка строится из `GearItemOut` (приходит в `/api/profile.equipment`, `/api/waifu/equipment`, `/api/waifu/equipment/available`, `/api/inventory`):
- `name`: базовое имя базы (пока часто это “Топор/Кольцо/…”, либо “Предмет” если нет связанной `Item`)
- `rarity`: 1..5
- `slot_type`: строка (`weapon_1h`, `weapon_2h`, `ring`, `amulet`, `costume`, `offhand`, …)
- `weapon_type`, `attack_type`
- `level`, `tier`
- `base_stat`, `base_stat_value`
- `affixes[]`: список `AffixOut` (поля: `name`, `stat`, `value`, **`kind`**, **`is_percent`**)

## Схема модальной карточки (рекомендуемая)
### Верх (header)
- **Иконка/изображение предмета** (квадрат 44×44)
  - На старте: emoji/иконка по `slot_type/weapon_type`
  - Позже: реальное изображение из ассетов по `image_key`/`base_id`
- **Редкость** (текст + цвет рамки)
- **Имя предмета** (крупно)
- **Уровень** (маленьким: `lvl X · tier Y · slot_type`)

### Тело (body)
- **Слот экипировки**: “Где” (экипирован/инвентарь) + “Слот предмета” (`slot_type`)
- **Ключевые боевые статы** (если оружие): `damage_min/max`, `attack_speed`, `attack_type`, `weapon_type`
- **Бонусы (списком, без подписи аффикса)**
  - 1 строка = 1 бонус
  - формат: `СИЛ +2`, `ИНТ +2`, `CRIT +5%`
  - берётся из:
    - `base_stat/base_stat_value`
    - `affixes[]` (используем `stat/value`, без `name`)
  - проценты:
    - если `affix.is_percent=true` → добавляем `%`
    - иначе используем эвристику по суффиксу `_percent`/`chance_percent`/`_pct`
- **Требования** (если есть `requirements`):
  - показывать списком, с подсветкой выполнено/не выполнено (можно позже)

### Низ (footer)
- Кнопки: **Экипировать / Снять / Закрыть**
- Если предмет может идти в несколько слотов (ring, weapon_1h): селектор “Куда экипировать” в body

## Правила формирования “красивого” имени
Цель: “Сильный Топор Опупенных стикеров”.

### Сейчас (быстро)
- `display_name = [prefix] + base_name + [suffix]`
  - `prefix` = первый `affixes[]` с `kind="affix"`
  - `suffix` = первый `affixes[]` с `kind="suffix"`
  - `base_name` = `item.name`

### Дальше (идеально)
- Хранить:
  - `base_name` (название базы предмета)
  - 0..N префиксов и 0..N суффиксов (с весами/группами эксклюзивности)
  - скрытый `power_rank` / `affix_tier` влияет на значения, но не на имя
- “Тематические” суффиксы под медиа‑урон (стикеры/гифки/фото):
  - отдельные `stat` ключи типа `media_sticker_damage_flat`, `media_sticker_damage_pct`
  - суффикс отображается в имени, но в бонусах показывается как “DMG (стикер) +X”

## Изображения предметов (стратегия)
### Этап 0 (сейчас)
Emoji по `slot_type/weapon_type` + рамка по редкости.

### Этап 1
Добавить в API поле `image_key` (например `weapon_axe_01`, `ring_02`) и хранить ассеты в `webapp/assets/items/`.

### Этап 2
Связать с будущим `ItemBase` (`base_id`) и выдавать `base_id`/`image_key` прямо из базы.

